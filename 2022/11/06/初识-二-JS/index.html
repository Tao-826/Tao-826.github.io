<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>初识(二) | Hexo</title>
  <meta name="description" content="JS进阶1-作用域​	作用域对程序执行的影响及作用域链的查找机制，使用闭包函数创建隔离作用域避免全局变量污染。  作用域（scope）规定了变量能够被访问的“范围”，离开了这个“范围”变量便不能被访问，  ​	作用域分为：局部作用域   全局作用域 1.1局部作用域​	局部作用域分为函数作用域和块作用域。 1.1.1函数作用域​	在函数内部声明的变量只能在函数内部被访问，外部无法直接访问。 1.函">
<meta property="og:type" content="article">
<meta property="og:title" content="初识(二)">
<meta property="og:url" content="http://example.com/2022/11/06/%E5%88%9D%E8%AF%86-%E4%BA%8C-JS/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="JS进阶1-作用域​	作用域对程序执行的影响及作用域链的查找机制，使用闭包函数创建隔离作用域避免全局变量污染。  作用域（scope）规定了变量能够被访问的“范围”，离开了这个“范围”变量便不能被访问，  ​	作用域分为：局部作用域   全局作用域 1.1局部作用域​	局部作用域分为函数作用域和块作用域。 1.1.1函数作用域​	在函数内部声明的变量只能在函数内部被访问，外部无法直接访问。 1.函">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-11-06T03:41:47.000Z">
<meta property="article:modified_time" content="2022-11-06T03:42:47.080Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="CSS">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://example.com/2022/11/06/%E5%88%9D%E8%AF%86-%E4%BA%8C-JS/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/cofess" target="_blank">
          <img class="img-circle img-rotate" src="/images/portrait.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">十七</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">前端开发工程师</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> hunan, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">书单</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/cofess" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.behance.net/cofess" target="_blank" title="Behance" data-toggle=tooltip data-placement=top><i class="icon icon-behance"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a><span class="category-list-count">12</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/" rel="tag">Ajax</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/" rel="tag">Node</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuex/" rel="tag">Vuex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue%E5%9F%BA%E7%A1%80/" rel="tag">Vue基础</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Api/" rel="tag">Web Api</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/" rel="tag">jQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uni-app/" rel="tag">uni-app</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Ajax/" style="font-size: 13px;">Ajax</a> <a href="/tags/CSS/" style="font-size: 14px;">CSS</a> <a href="/tags/Node/" style="font-size: 13px;">Node</a> <a href="/tags/Vue/" style="font-size: 13px;">Vue</a> <a href="/tags/Vuex/" style="font-size: 13px;">Vuex</a> <a href="/tags/Vue%E5%9F%BA%E7%A1%80/" style="font-size: 13px;">Vue基础</a> <a href="/tags/Web-Api/" style="font-size: 13px;">Web Api</a> <a href="/tags/Webpack/" style="font-size: 13px;">Webpack</a> <a href="/tags/jQuery/" style="font-size: 13px;">jQuery</a> <a href="/tags/uni-app/" style="font-size: 13px;">uni-app</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 13px;">微信小程序</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">13</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a>
              </p>
              <p class="item-title">
                <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E5%8D%81%E4%BA%8C/" class="title">初识(十二)</a>
              </p>
              <p class="item-date">
                <time datetime="2022-11-06T03:53:36.000Z" itemprop="datePublished">2022-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a>
              </p>
              <p class="item-title">
                <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E5%8D%81%E4%B8%80/" class="title">初识(十一)</a>
              </p>
              <p class="item-date">
                <time datetime="2022-11-06T03:53:29.000Z" itemprop="datePublished">2022-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a>
              </p>
              <p class="item-title">
                <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E5%8D%81/" class="title">初识(十)</a>
              </p>
              <p class="item-date">
                <time datetime="2022-11-06T03:51:31.000Z" itemprop="datePublished">2022-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a>
              </p>
              <p class="item-title">
                <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E4%B9%9D/" class="title">初识(九)</a>
              </p>
              <p class="item-date">
                <time datetime="2022-11-06T03:51:22.000Z" itemprop="datePublished">2022-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a>
              </p>
              <p class="item-title">
                <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E5%85%AB/" class="title">初识(八)</a>
              </p>
              <p class="item-date">
                <time datetime="2022-11-06T03:49:12.000Z" itemprop="datePublished">2022-11-06</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-初识-二-JS" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      初识(二)
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E4%BA%8C-JS/" class="article-date">
	  <time datetime="2022-11-06T03:41:47.000Z" itemprop="datePublished">2022-11-06</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/%E8%B5%84%E6%96%99/">资料</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/CSS/" rel="tag">CSS</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E4%BA%8C-JS/#comments" class="article-comment-link">评论</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="JS进阶"><a href="#JS进阶" class="headerlink" title="JS进阶"></a>JS进阶</h2><h3 id="1-作用域"><a href="#1-作用域" class="headerlink" title="1-作用域"></a>1-作用域</h3><p>​	作用域对程序执行的影响及作用域链的查找机制，使用闭包函数创建隔离作用域避免全局变量污染。</p>
<p> 作用域（scope）规定了变量能够被访问的“范围”，离开了这个“范围”变量便不能被访问， </p>
<p>​	作用域分为：局部作用域   全局作用域</p>
<h4 id="1-1局部作用域"><a href="#1-1局部作用域" class="headerlink" title="1.1局部作用域"></a>1.1局部作用域</h4><p>​	局部作用域分为函数作用域和块作用域。</p>
<h5 id="1-1-1函数作用域"><a href="#1-1-1函数作用域" class="headerlink" title="1.1.1函数作用域"></a>1.1.1函数作用域</h5><p>​	在函数内部声明的变量只能在函数内部被访问，外部无法直接访问。</p>
<p>1.函数内部声明的变量，在函数外部无法被访问</p>
<p>2.函数的参数也是函数内部的局部变量</p>
<p>3.不同函数内部声明的变量无法互相访问</p>
<p>4.函数执行完毕后，函数内部的变量实际被清空了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数内部声明的变量可以在函数内部访问</span></span><br><span class="line">    <span class="comment">// function fn()&#123;</span></span><br><span class="line">    <span class="comment">//   let a = 10;</span></span><br><span class="line">    <span class="comment">//   console.log(a)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn();</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数内部声明的变量，不可在函数外部所访问</span></span><br><span class="line">    <span class="comment">// function fn()&#123;</span></span><br><span class="line">    <span class="comment">//   let a = 10;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn();</span></span><br><span class="line">    <span class="comment">// console.log(a)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数的形参对应的作用域也是函数作用，在外部不能够被访问</span></span><br><span class="line">    <span class="comment">// function fn(x, y) &#123;</span></span><br><span class="line">    <span class="comment">//   console.log(x)</span></span><br><span class="line">    <span class="comment">//   console.log(y)</span></span><br><span class="line">    <span class="comment">//   return x + y</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn(1, 2);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// function fn(x, y) &#123;</span></span><br><span class="line">    <span class="comment">//   return x + y</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn(1, 2);</span></span><br><span class="line">    <span class="comment">// console.log(x)</span></span><br><span class="line">    <span class="comment">// console.log(y)</span></span><br></pre></td></tr></table></figure>

<h5 id="1-1-2块级作用域"><a href="#1-1-2块级作用域" class="headerlink" title="1.1.2块级作用域"></a>1.1.2块级作用域</h5><p>在 JavaScript 中使用 { } 包裹的代码称为代码块，代码块内部声明的变量外部将【有可能】无法被访问。</p>
<p>1.let 声明的变量会产生块作用域，var不会产生块级作用域</p>
<p>2.const 声明的常量也会产生块级作用域</p>
<p>3.不同代码块之间的变量无法相互访问</p>
<p>4.推荐使用let 和 const</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if for switch while  对象不能产生作用域</span></span><br><span class="line"><span class="comment">//在&#123;&#125;内,通过const关键字声明变量，会产生块级作用域</span></span><br><span class="line">   <span class="comment">// if (true) &#123;</span></span><br><span class="line">   <span class="comment">//   const a = 10; </span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">   <span class="comment">// console.log(a)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//在&#123;&#125;内,通过var关键字声明变量，不会产生块级作用域</span></span><br><span class="line">   <span class="comment">// if (true) &#123;</span></span><br><span class="line">   <span class="comment">//   var a = 10; </span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">   <span class="comment">// console.log(a)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//不能说： &#123;&#125;对应的作用域就是块级作用、要看是哪个关键字声明的变量</span></span><br><span class="line">   <span class="comment">// let  const  声明的变量对应的作用域才是块级作用域</span></span><br></pre></td></tr></table></figure>



<h4 id="1-2全局作用域"><a href="#1-2全局作用域" class="headerlink" title="1.2全局作用域"></a>1.2全局作用域</h4><script>标签和.js文件的【最外层】就是所谓的全局作用域，在此声明的变量在函数内部也可以被访问。

全局作用域中声明的变量，任何其它作用域都可以被访问

注意：

1.为window对象动态添加的属性默认也是全局的-不推荐

2.函数中未使用任何关键字声明的变量为全局变量-不推荐

3.尽可能少的声明全局变量，防止全局变量被污染

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局作用域内声明的变量可以再全局访问也可以在局部作用域内访问</span></span><br><span class="line">    <span class="comment">// let a = 10;</span></span><br><span class="line">    <span class="comment">// // console.log(a);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// function fn ()&#123;</span></span><br><span class="line">    <span class="comment">//   console.log(a)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// window对象下挂载的变量对应的也是全局作用域 【不推荐】</span></span><br><span class="line">    <span class="comment">// window.a = 10; </span></span><br><span class="line">    <span class="comment">// function fn ()&#123;</span></span><br><span class="line">    <span class="comment">//   console.log(window.a)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不使用任何关键字 声明的变量 对应的作用域也是全局作用域 [不推荐]</span></span><br><span class="line">    <span class="comment">// function fn()&#123;</span></span><br><span class="line">    <span class="comment">//   a =10</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn()</span></span><br><span class="line">    <span class="comment">// console.log(window.a)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// let var const</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 只有var 关键字声明的变量，才会自动挂载到window上，let const 不会</span></span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">var</span> c = <span class="number">10000</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">b</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">c</span>)</span><br></pre></td></tr></table></figure>

#### 1.3作用域链

作用域链本质上是底层的变量查找机制

​	在函数被执行时，会优先查找当前函数作用域中查找变量

​	如果当前作用域查找不到则会依次逐级查找父作用域直到全局作用域

总结：

1.嵌套关系的作用域串联起来形成了作用域链

2.相同作用域链中按着从小到大的规则查找变量

3.子作用域能够访问父作用域，父级作用域无法访问子级作用域

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="comment">// let a = 10;</span></span><br><span class="line">     <span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="comment">// let a = 1;</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="title function_">fn2</span>()</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title function_">fn1</span>()</span><br></pre></td></tr></table></figure>

#### 1.4 JS垃圾回收机制

垃圾回收机制（Garbage Collection）简称GC

JS中内存的分配和回收都是自动完成的，内存在不使用的时候会被垃圾回收器自动回收。

正因为垃圾回收器的存在，许多人认为JS不用太关心内存管理的问题

但如果不了解JS的内存管理机制，我们同样非常容易成内存泄漏（内存无法被回收）的情况

不再用到的内存，没有及时释放，就叫做内存泄漏。

所谓垃圾回收, 核心思想就是如何判断内存是否已经不再会被使用了, 如果是, 就视为垃圾, 释放掉

##### 1.4.1内存的生命周期

JS环境中分配的内存, 一般有如下生命周期：

1.内存分配：当我们声明变量、函数、对象的时候，系统会自动为他们分配内存

2.内存使用：即读写内存，也就是使用变量、函数等

3.内存回收：使用完毕，由垃圾回收自动回收不再使用的内存

说明：

全局变量一般不会回收(关闭页面回收)； 

一般情况下局部变量的值, 不用了, 会被自动回收掉

##### 1.4.2 引用计数法

IE采用的引用计数算法, 定义“内存不再使用”的标准很简单，就是看一个对象是否有指向它的引用。

算法：

1.跟踪记录每个值被引用的次数。

2.如果这个值的被引用了一次，那么就记录次数1

3.多次引用会累加。

4.如果减少一个引用就减1。

5.如果引用次数是0 ，则释放内存。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line"><span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;pink老师&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> p = person</span><br><span class="line">person = <span class="number">1</span></span><br><span class="line">p = <span class="literal">null</span></span><br></pre></td></tr></table></figure>

致命的问题：嵌套引用。

如果两个对象相互引用，尽管他们已不再使用，垃圾回收器不会进行回收，导致内存泄露。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为他们的引用次数永远不会是0。这样的相互引用如果说很大量的存在就会导致大量的内存泄露</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">let</span> o1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> o2 = &#123;&#125;</span><br><span class="line">o1.<span class="property">a</span> = o2</span><br><span class="line">o2.<span class="property">a</span> = o1</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;引用计数无法回收&#x27;</span> &#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>

##### 1.4.3 标记清除法

现代的浏览器已经不再使用引用计数算法了。

现代浏览器通用的大多是基于标记清除算法的某些改进算法，总体思想都是一致的。

核心：

1.标记清除算法将“不再使用的对象”定义为“无法达到的对象”。

2.就是从根部（在JS中就是全局对象）出发定时扫描内存中的对象。 凡是能从根部到达的对象，都是还需要使用的。

3.那些无法由根部出发触及到的对象被标记为不再使用，稍后进 行回收。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根部已经访问不到，所以自动清除</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">let</span> o1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> o2 = &#123;&#125;</span><br><span class="line">o1.<span class="property">a</span> = o2</span><br><span class="line">o2.<span class="property">a</span> = o1</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;引用计数无法回收&#x27;</span> &#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>

#### 1.5 闭包

概念：一个函数对周围状态的引用捆绑在一起，内层函数中访问到其外层函数的作用域

简单理解：闭包 = 内层函数 + 外层函数的变量

闭包作用：封闭数据，提供操作，外部也可以访问函数内部的变量

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// console.log(fn);</span></span><br><span class="line">      <span class="keyword">return</span> fn</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//fun==&gt; outer() ==&gt; fn ==&gt; function fn() &#123; console.log(a) &#125;</span></span><br><span class="line">    <span class="keyword">let</span> fun = <span class="title function_">outer</span>();</span><br><span class="line">    <span class="comment">// console.log(fun);</span></span><br><span class="line">    <span class="title function_">fun</span>()  <span class="comment">//调用函数  外部函数使用内部函数的变量</span></span><br></pre></td></tr></table></figure>

闭包应用：实现数据的私有

比如，我们要做个统计函数调用次数，函数调用一次，就++

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> i = <span class="number">0</span>; <span class="comment">//长驻内存</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`第<span class="subst">$&#123;i&#125;</span>次调用函数`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> fn</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> fun = <span class="title function_">outer</span>();</span><br><span class="line">    <span class="title function_">fun</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 确定了fun 不再被调用的时候</span></span><br><span class="line">    fun = <span class="literal">null</span>; <span class="comment">//函数变成  不可达了</span></span><br></pre></td></tr></table></figure>

闭包可能引起的问题：内存泄漏

#### 1.6变量提升

变量提升是 JavaScript 中比较“奇怪”的现象，它允许在变量声明之前即被访问（仅存在于var声明变量）

只提升变量声明， 不提升变量赋值

注意：

1.变量在未声明即被访问时会报语法错误

2.变量在var声明之前即被访问，变量的值为 undefined

3.let/const 声明的变量不存在变量提升

4.变量提升出现在相同作用域当中

5.实际开发中推荐先声明再访问变量

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 变量提升 提升的仅仅是声明 而不提升赋值</span></span><br><span class="line">   <span class="comment">// console.log(a)</span></span><br><span class="line">   <span class="comment">// var a = 10;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// ===相当于</span></span><br><span class="line">   <span class="comment">// var a;</span></span><br><span class="line">   <span class="comment">// console.log(a)</span></span><br><span class="line">   <span class="comment">// a = 10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//变量提升 仅仅提升在当前作用域的最前端</span></span><br><span class="line">   <span class="comment">// function fn() &#123;</span></span><br><span class="line">   <span class="comment">//   console.log(a)</span></span><br><span class="line">   <span class="comment">//   var a = 10</span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">   <span class="comment">// fn()</span></span><br><span class="line">   <span class="comment">// console.log(a)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// let 和 const  存在变量提升 </span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">   <span class="comment">// let a = 10;</span></span><br><span class="line">   <span class="keyword">const</span> a = <span class="number">10</span>; </span><br></pre></td></tr></table></figure>

### 2-函数进阶

#### 2.1函数提升

函数提升与变量提升比较类似，是指函数在声明之前即可被调用。

1.函数提升能够使函数的声明调用更灵活

2.函数表达式不存在提升的现象

3.函数提升出现在相同作用域当中

注意：函数表达式不存在提升现象

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数提升，函数可以在函数声明之前调用</span></span><br><span class="line">    <span class="comment">// fn();</span></span><br><span class="line">    <span class="comment">// function fn()&#123;</span></span><br><span class="line">    <span class="comment">//   console.log(1)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 相当于</span></span><br><span class="line">    <span class="comment">// function fn() &#123;</span></span><br><span class="line">    <span class="comment">//   console.log(1)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// fn(); </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// fn()</span></span><br><span class="line">    <span class="comment">// var fn = function () &#123; </span></span><br><span class="line">    <span class="comment">//   console.log(1)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//相当于</span></span><br><span class="line">    <span class="comment">// var fn;</span></span><br><span class="line">    <span class="comment">// fn()</span></span><br><span class="line">    <span class="comment">// fn = function () &#123;</span></span><br><span class="line">    <span class="comment">//   console.log(1)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当变量和函数同时存在提升的时候，函数的优先级高</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(fn)</span><br><span class="line">    <span class="keyword">var</span> fn = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1234</span>)</span><br><span class="line">    &#125; </span><br></pre></td></tr></table></figure>



#### 2.2函数参数

产品需求： 写一个求和函数

不管用户传入几个实参，都要把和求出来

实线：

1.动态参数  2.剩余参数

##### 2.2.1动态参数（arguments ）

arguments 是函数内部内置的伪数组变量，它包含了调用函数时传入的所有实参

1.arguments 是一个伪数组，只存在于函数中

2.arguments 的作用是动态获取函数的实参

3.可以通过for循环依次得到传递过来的实参

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getSum</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// console.log(arguments)</span></span><br><span class="line">      <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        sum += <span class="variable language_">arguments</span>[i]</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">    <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">    <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

##### 2.2.2剩余参数（...other）

剩余参数允许我们将一个不定数量的参数表示为一个数组

1、 ... 是语法符号，置于最末函数形参之前，用于获取多余的实参

2、借助 ... 获取的剩余实参，是个真数组

开发中，还是提倡多使用 剩余参数。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 剩余参数</span></span><br><span class="line">   <span class="comment">// 语法：  ...变量名，只能放在函数形参的最末尾</span></span><br><span class="line">   <span class="comment">// 作用：可以拿到所有的实参</span></span><br><span class="line">   <span class="comment">// 变量名是一个真数组</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">getSum</span>(<span class="params">...arr</span>) &#123;</span><br><span class="line">     <span class="comment">// console.log(arr)</span></span><br><span class="line">     <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">       sum += arr[i]</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(sum)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">   <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">   <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

剩余参数和动态参数区别是什么？开发中提倡使用哪一个？

1.动态参数是伪数组

2.剩余参数是真数组

区别：开发中使用剩余参数想必也是极好的

#### 2.3 展开运算符

展开运算符(…),将一个数组进行展开

典型运用场景： 求数组最大值(最小值)、合并数组等

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 展开运算符</span></span><br><span class="line">   <span class="comment">// 语法： ...arr</span></span><br><span class="line">   <span class="comment">// 特点：不会影响元素组</span></span><br><span class="line">   <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(...arr) <span class="comment">//？1,2,3,4</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以利用展开运算符 求最大值 最小值 数组合并</span></span><br><span class="line">    <span class="comment">// const max = Math.max(1, 2, 3, 4, 5)</span></span><br><span class="line">    <span class="comment">// console.log(max)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 求最大值</span></span><br><span class="line">    <span class="comment">// const arr = [1, 2, 3, 4, 5]</span></span><br><span class="line">    <span class="comment">// const max = Math.max(...arr)</span></span><br><span class="line">    <span class="comment">// console.log(max)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 求最小值</span></span><br><span class="line">    <span class="comment">// const arr = [1, 2, 3, 4, 5]</span></span><br><span class="line">    <span class="comment">// const min = Math.min(...arr)</span></span><br><span class="line">    <span class="comment">// console.log(min)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 数组合并</span></span><br><span class="line">    <span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line">    <span class="keyword">const</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="comment">// const arr3 = [1, 2, 3, 4, 5, 6,8];</span></span><br><span class="line">    <span class="keyword">const</span> arr3 = [...arr1, ...arr2]</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr3)</span><br></pre></td></tr></table></figure>

##### 展开运算符 or 剩余参数

剩余参数：函数参数使用，得到真数组

展开运算符：数组中使用，数组展开

#### 2.4箭头函数

引入箭头函数的目的是更简短的函数写法并且不绑定this，箭头函数的语法比函数表达式更简洁

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// 基本语法</span></span><br><span class="line">  <span class="comment">// const fn = () =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   console.log(123)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 传参</span></span><br><span class="line">  <span class="comment">// const fn = (x) =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   console.log(x)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="comment">// fn(1)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 只有一个形参的时候可以省略小括号</span></span><br><span class="line">  <span class="comment">// const fn = x =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   console.log(x)</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="comment">// fn(1)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 只有一行代码的时候 可以省略大括号</span></span><br><span class="line">  <span class="comment">// const fn = x =&gt; console.log(x)</span></span><br><span class="line">  <span class="comment">// fn(2)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 只有一行代码可以省略return</span></span><br><span class="line">  <span class="comment">// const fn = x =&gt; x + x</span></span><br><span class="line">  <span class="comment">// console.log(fn(2))</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 直接返回对象</span></span><br><span class="line">  <span class="comment">// const fn = uname =&gt; (&#123; uname: uname &#125;)</span></span><br><span class="line">  <span class="comment">// console.log(fn(&#x27;刘德华&#x27;))</span></span><br></pre></td></tr></table></figure>

1.箭头函数属于表达式函数，因此不存在函数提升

2.箭头函数只有一个参数时可以省略圆括号 ()

3.箭头函数函数体只有一行代码时可以省略花括号 {}，并自动做为返回值被返回

4.加括号的函数体返回对象字面量表达式

##### 2.4.1 箭头函数参数

1.普通函数有arguments 动态参数

2.箭头函数没有 arguments 动态参数，但是有 剩余参数 ..args

使用场景：箭头函数更适用于那些本来需要匿名函数的地方

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 箭头函数求和</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getSum</span> = (<span class="params">...arr</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      sum += arr[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getSum</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>

##### 2.4.2 箭头函数 this

在箭头函数出现之前，每一个新函数根据它是被如何调用的来定义这个函数的this值， 非常令人讨厌。

箭头函数不会创建自己的this,它只会从自己的作用域链的上一层沿用this。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">//此处为window</span></span><br><span class="line">cosnt sayHi = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)  <span class="comment">//普通函数指向调用者  此处为window</span></span><br><span class="line">&#125;</span><br><span class="line">btn.<span class="property">addEventListener</span> (<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//当前this 指向btn</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">//此处为window</span></span><br><span class="line">cosnt sayHi =<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)  <span class="comment">//箭头函数此处为window</span></span><br><span class="line">&#125;</span><br><span class="line">btn.<span class="property">addEventListener</span> (<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//当前this 指向window</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span></span><br><span class="line">  <span class="attr">sleep</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)  <span class="comment">//指向 user</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)  <span class="comment">//指向user  该箭头函数中的 this 与 sleep 中的 this 一致</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="title function_">fn</span>()  <span class="comment">//调用箭头函数</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">user.<span class="title function_">sleep</span>()</span><br></pre></td></tr></table></figure>

### 3-解构赋值

解构赋值是一种快速为变量赋值的简洁语法，本质上仍然是为变量赋值。

分为：

数组解构 

对象解构

#### 3.1数组解构

数组解构是将数组的单元值快速批量赋值给一系列变量的简洁语法。

基本语法：

1.赋值运算符 = 左侧的 [] 用于批量声明变量，右侧数组的单元值将被赋值给左侧的变量

2.变量的顺序对应数组单元值的位置依次进行赋值操作 

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">100</span>, <span class="number">60</span>, <span class="number">80</span>]</span><br><span class="line">   <span class="keyword">const</span> [max, min, avg] = arr</span><br><span class="line">   <span class="comment">//const [max, min, avg] = [100, 60, 80]</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(max)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(avg)</span><br><span class="line">   <span class="comment">// 交换两个变量</span></span><br><span class="line">   <span class="keyword">let</span> a = <span class="number">1</span></span><br><span class="line">   <span class="keyword">let</span> b = <span class="number">2</span>;  <span class="comment">//必须写;</span></span><br><span class="line">   [b, a] = [a, b]</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b)</span><br></pre></td></tr></table></figure>

注意： js 前面必须加分号情况

Js 前面有两哪种情况需要加分号的

1.立即执行函数

2.数组解构



独立完成数组解构赋值

需求①： 有个数组： const pc = ['海尔', '联想', '小米', '方正']

解构为变量: hr lx mi fz

需求②：请将最大值和最小值函数返回值解构 max 和min 两个变量

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pc = [<span class="string">&#x27;海尔&#x27;</span>, <span class="string">&#x27;联想&#x27;</span>, <span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;方正&#x27;</span>]</span><br><span class="line">   <span class="keyword">const</span> [hr, lx, mi, fz] = pc</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(hr)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(lx)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(mi)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(fz)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">getValue</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> [<span class="number">100</span>, <span class="number">60</span>]</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">const</span> [max, min] = <span class="title function_">getValue</span>()</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(max, min)</span><br></pre></td></tr></table></figure>

##### 3.1.1变量多 单元值少的情况

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cosnt [a, b, c, d] = [<span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;华为&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//小米</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)		<span class="comment">//苹果</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)		<span class="comment">//华为</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d)		<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

变量的数量大于单元值数量时，多余的变量将被赋值为 undefined

防止有undefined传递单元值的情况，可以设置默认值

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cosnt [a = <span class="string">&#x27;手机&#x27;</span>, b = <span class="string">&#x27;华为&#x27;</span>] = [<span class="string">&#x27;小米&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//小米</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)		<span class="comment">//华为</span></span><br></pre></td></tr></table></figure>

允许初始化变量的默认值，且只有单元值为 undefined 时默认值才会生效

##### 3.1.2变量少 单元值多的情况

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cosnt [a, b, c] = [<span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;华为&#x27;</span>, <span class="string">&#x27;格力&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//小米</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)		<span class="comment">//苹果</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)		<span class="comment">//华为</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d)		<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

利用剩余参数解决变量少 单元值多的情况

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cosnt [a, b, ...tel] = [<span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;华为&#x27;</span>, <span class="string">&#x27;格力&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//小米</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)		<span class="comment">//苹果</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)		<span class="comment">//[&#x27;华为&#x27;, &#x27;格力&#x27;]</span></span><br></pre></td></tr></table></figure>

剩余参数返回的还是一个数组  但只能置于最末尾



##### 3.1.3按需导入，忽略某些返回值

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cosnt [a, ,c, d] = [<span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;华为&#x27;</span>, <span class="string">&#x27;格力&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//小米</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)		<span class="comment">//华为</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d)		<span class="comment">//格力</span></span><br></pre></td></tr></table></figure>

##### 3.1.4支持多维数组的结构

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b] = [<span class="string">&#x27;苹果&#x27;</span>, [<span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;华为&#x27;</span>]]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//苹果</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)		<span class="comment">//[&#x27;小米&#x27;, &#x27;华为&#x27;]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如何拿到小米华为？</span></span><br><span class="line"><span class="keyword">const</span> [a, [b, c]] = [<span class="string">&#x27;苹果&#x27;</span>, [<span class="string">&#x27;小米&#x27;</span>, <span class="string">&#x27;华为&#x27;</span>]]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)		<span class="comment">//苹果</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)		<span class="comment">//小米</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)		<span class="comment">//华为</span></span><br></pre></td></tr></table></figure>

#### 3.2对象解构

对象解构是将对象属性和方法快速批量赋值给一系列变量的简洁语法

基本语法：

1.赋值运算符 = 左侧的 {} 用于批量声明变量，右侧对象的属性值将被赋值给左侧的变量

2.对象属性的值将被赋值给与属性名相同的变量

3.注意解构的变量名不要和外面的变量名冲突否则报错

4.对象中找不到与变量名一致的属性时变量值为 undefined

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;熊大&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="string">&#x27;18&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> &#123; uname, age &#125; = &#123; <span class="attr">uname</span>: <span class="string">&#x27;熊大&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;18&#x27;</span> &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(uname)		<span class="comment">//熊大</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age)		<span class="comment">//18</span></span><br></pre></td></tr></table></figure>

###### 给新的变量名赋值

可以从一个对象中提取变量并同时修改新的变量名

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="attr">uname</span>:username, age &#125; = &#123; <span class="attr">uname</span>: <span class="string">&#x27;熊大&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;18&#x27;</span> &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(username)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age)</span><br><span class="line">    <span class="comment">//冒号表示“什么值：赋值给谁”</span></span><br></pre></td></tr></table></figure>

##### 3.2.1数组对象解构

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pig = [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">uname</span>: <span class="string">&#x27;佩奇&#x27;</span>,</span><br><span class="line">        <span class="attr">weight</span>: <span class="number">200</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [&#123; uname, weight &#125;] = [&#123; <span class="attr">uname</span>: <span class="string">&#x27;佩奇&#x27;</span>, <span class="attr">weight</span>: <span class="string">&#x27;200kg&#x27;</span> &#125;]</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(uname)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(weight)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pig = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;佩奇&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">6</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> &#123; name, age &#125; = &#123;<span class="attr">name</span>: <span class="string">&#x27;佩奇&#x27;</span>,<span class="attr">age</span>: <span class="number">6</span>&#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age)</span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">name</span>:uname, age &#125; = &#123;<span class="attr">name</span>: <span class="string">&#x27;佩奇&#x27;</span>,<span class="attr">age</span>: <span class="number">6</span>&#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(uname,age)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> goods = [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">goodsName</span>: <span class="string">&#x27;小米&#x27;</span>,</span><br><span class="line">        <span class="attr">price</span>: <span class="number">1999</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [&#123;goodsName, price&#125;] = [&#123; <span class="attr">goodsName</span>: <span class="string">&#x27;小米&#x27;</span>, <span class="attr">price</span>: <span class="number">1999</span> &#125;]</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(goodsName,price)</span><br></pre></td></tr></table></figure>

##### 3.2.2多级对象解构

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pig = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;佩奇&#x27;</span>,</span><br><span class="line"><span class="attr">family</span>: &#123;</span><br><span class="line"><span class="attr">mother</span>: <span class="string">&#x27;猪妈妈&#x27;</span>,</span><br><span class="line"><span class="attr">father</span>: <span class="string">&#x27;猪爸爸&#x27;</span>,</span><br><span class="line"><span class="attr">sister</span>: <span class="string">&#x27;乔治&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">age</span>: <span class="number">6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123; name, <span class="attr">family</span>: &#123; mother, father, sister&#125;&#125; = pig</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)		<span class="comment">//佩奇</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mother)		<span class="comment">//猪妈妈</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(father)		<span class="comment">//猪爸爸</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sister)		<span class="comment">//乔治</span></span><br></pre></td></tr></table></figure>

案例

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.传递的数据</span></span><br><span class="line">   <span class="keyword">const</span> msg = &#123;</span><br><span class="line">     <span class="string">&quot;code&quot;</span>: <span class="number">200</span>,</span><br><span class="line">     <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;获取新闻列表成功&quot;</span>,</span><br><span class="line">     <span class="string">&quot;data&quot;</span>: [</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="string">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">         <span class="string">&quot;title&quot;</span>: <span class="string">&quot;5G商用自己，三大运营商收入下降&quot;</span>,</span><br><span class="line">         <span class="string">&quot;count&quot;</span>: <span class="number">58</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="string">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">         <span class="string">&quot;title&quot;</span>: <span class="string">&quot;国际媒体&quot;</span>,</span><br><span class="line">         <span class="string">&quot;count&quot;</span>: <span class="number">56</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span><br><span class="line">         <span class="string">&quot;title&quot;</span>: <span class="string">&quot;俄乌冲突&quot;</span>,</span><br><span class="line">         <span class="string">&quot;count&quot;</span>: <span class="number">199</span></span><br><span class="line">       &#125;,</span><br><span class="line">     ]</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 需求1：请将意思msg对象 采用解构的方式  只选出 data </span></span><br><span class="line">   <span class="keyword">const</span> &#123; data &#125; = msg</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">   <span class="comment">// 需求2：上面msg是后天传递的数据 我们需要把data 选出来当做参数传递给 函数</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">render</span>(<span class="params">&#123; data &#125;</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title function_">render</span>(msg)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 需求3：为了防止msg里面的data名字混淆 要求渲染函数里面的数据名改为 myData</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">render</span>(<span class="params">&#123; data: myData &#125;</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(myData)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title function_">render</span>(msg)</span><br></pre></td></tr></table></figure>

#### 3.3遍历数组 forEach 方法

forEach() 方法用于调用数组的每个元素，并将元素传递给回调函数 

主要使用场景： 遍历数组的每个元素    参数当前数组元素是必须要写的， 索引号可选

语法：

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">被遍历的数组.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">当前数组元素, 当前元素索引号</span>)&#123;</span><br><span class="line">  函数体</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>]</span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">item, index</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`当前数组元素是：<span class="subst">$&#123;item&#125;</span>`</span>)		<span class="comment">//依次打印数组每一个元素</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`当前数组元素的索引号是：<span class="subst">$&#123;index&#125;</span>`</span>)		<span class="comment">//依次打印数组每一个元素的索引号</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

#### 3.4筛选数组 filter 方法

filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素

主要使用场景： 筛选数组符合条件的元素，并返回筛选之后元素的新数组

语法：

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">被遍历的数组.<span class="property">filter</span> (<span class="keyword">function</span> (<span class="params">当前数组元素, 当前元素索引号</span>)&#123;</span><br><span class="line">  函数体</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

返回值：返回数组，包含了符合条件的所有元素。如果没有符合条件的元素则返回空数组

参数：当前数组元素 必须写， 索引号 可选

因为返回新数组，所以不会影响原数组

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//筛选数组中大于30的元素</span></span><br><span class="line"><span class="keyword">const</span> score = [<span class="number">10</span>, <span class="number">50</span>, <span class="number">3</span>, <span class="number">40</span>, <span class="number">33</span>]</span><br><span class="line"><span class="keyword">const</span> re = score.<span class="title function_">filter</span>( <span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> item &gt; <span class="number">30</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(re)  <span class="comment">//[50, 40, 33]</span></span><br></pre></td></tr></table></figure>

### 4-深入对象

#### 4.1创建对象三种方式

##### 4.1.1利用对象字面量创建对象

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;佩奇&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

##### 4.1.2利用 new Object 创建对象

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> <span class="title class_">Object</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;佩奇&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o)   <span class="comment">//&#123;name: &#x27;佩奇&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

##### 4.1.3利用构造函数创建对象

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">//创建构造函数</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Pig</span>(<span class="params">uname, age</span>) &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">uname</span> = uname</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//创建对象</span></span><br><span class="line">   <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Pig</span>(<span class="string">&#x27;佩奇&#x27;</span>, <span class="number">6</span>)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(p)</span><br></pre></td></tr></table></figure>

#### 4.2构造函数

构造函数 ：是一种特殊的函数，主要用来初始化对象

使用场景：常规的 {...} 语法允许创建一个对象。比如我们创建了佩奇的对象，继续创建乔治的对象还需要重新写一

遍，此时可以通过构造函数来快速创建多个类似的对象。

构造函数在技术上是常规函数。

注意：不过有两个约定：

1.它们的命名以大写字母开头。

2.它们只能由 "new" 操作符来执行。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Goods</span>(<span class="params">name, price, count</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">price</span> = price</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span> = count</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> mi = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&#x27;小米&#x27;</span>, <span class="number">1999</span>, <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">const</span> hw = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&#x27;华为&#x27;</span>, <span class="number">2999</span>, <span class="number">50</span>)</span><br><span class="line">    <span class="keyword">const</span> vo = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&#x27;vivo&#x27;</span>, <span class="number">1888</span>, <span class="number">60</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(mi)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(hw)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(vo)</span><br></pre></td></tr></table></figure>

说明：

1.使用 new 关键字调用函数的行为被称为实例化

2.实例化构造函数时没有参数时可以省略 ()

3.构造函数内部无需写return，返回值即为新创建的对象

4.构造函数内部的 return 返回的简单类型值无效，引用类型的值会被返回。所以不要写return

5.new Object（） new Date（） 也是实例化构造函数

实例化执行过程

1.创建新空对象

2.构造函数this指向新对象

3.执行构造函数代码，修改this，添加新的属性

4.返回新对象

#### 4.3实例成员&静态成员

##### 4.3.1实例成员：

通过构造函数创建的对象称为实例对象，实例对象中的属性和方法称为实例成员。

说明： 

1.实例对象的属性和方法即为实例成员

2.为构造函数传入参数，动态创建结构相同但值不同的对象

3.构造函数创建的实例对象彼此独立互不影响。

##### 4.3.2静态成员：

构造函数的属性和方法被称为静态成员

说明： 

1.构造函数的属性和方法被称为静态成员

2.一般公共特征的属性或方法静态成员设置为静态成员

3.静态成员方法中的 this 指向构造函数本身

### 5-内置构造函数

#### 5.1 Object

Object 是内置的构造函数，用于创建普通对象。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> <span class="title class_">Object</span>(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

推荐使用字面量方式声明对象，而不是 Object 构造函数

##### 5.1.1  学习三个常用静态方法（静态方法就是只有构造函数Object可以调用的）

Object.keys 静态方法获取对象中所有属性（键）	返回的是一个数组

Object.values 静态方法获取对象中所有属性值		返回的是一个数组

Object. assign 静态方法常用于对象拷贝

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123; <span class="attr">name</span>: <span class="string">&#x27;熊大&#x27;</span>, <span class="attr">age</span>: <span class="number">6</span> &#125;</span><br><span class="line">   <span class="comment">// 1.获得所有的属性名</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(o))</span><br><span class="line">   <span class="comment">// 2.获得所有的属性值</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(o))</span><br><span class="line">   <span class="comment">// 3.对象的拷贝</span></span><br><span class="line">   <span class="comment">// const oo = &#123;&#125;</span></span><br><span class="line">   <span class="comment">// Object.assign(oo, o)</span></span><br><span class="line">   <span class="comment">// console.log(oo)</span></span><br><span class="line">   <span class="title class_">Object</span>.<span class="title function_">assign</span>(o, &#123; <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span> &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(o)</span><br></pre></td></tr></table></figure>

#### 5.2 Array

##### 5.2.1 reduce

reduce 返回函数累计处理的结果，经常用于求和等

语法：

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">累计值, 当前元素 [,索引号][,源数组]</span>)&#123;&#125;,起始值)</span><br></pre></td></tr></table></figure>

累计值参数：

1.如果有起始值，则以起始值为准开始累计， 累计值 = 起始值

2.如果没有起始值， 则累计值以数组的第一个数组元素作为起始值开始累计

3.后面每次遍历就会用后面的数组元素 累计到 累计值 里面 （类似求和里面的 sum ）

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">   <span class="comment">// arr.reduce(function(累计值, 当前元素)&#123;&#125;,起始值)</span></span><br><span class="line">   arr.<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">prev, item</span>) &#123;</span><br><span class="line">     <span class="comment">// console.log(prev)</span></span><br><span class="line">     <span class="keyword">return</span> prev + item</span><br><span class="line">   &#125;, <span class="number">0</span>)</span><br><span class="line">   <span class="keyword">const</span> re = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev, item</span>) =&gt;</span> prev + item)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(re)</span><br></pre></td></tr></table></figure>

##### 5.2.2 数组常见方法-其他方法

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// join字符串拼接</span></span><br><span class="line">   <span class="keyword">const</span> sj = [<span class="string">&#x27;2022&#x27;</span>, <span class="string">&#x27;07&#x27;</span>, <span class="string">&#x27;01&#x27;</span>]</span><br><span class="line">   <span class="keyword">const</span> str = sj.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// find 查找元素 返回符合条件的第一个数组元素值</span></span><br><span class="line">   <span class="keyword">const</span> arr1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>]</span><br><span class="line">   <span class="comment">// const newArr1 = arr1.find(function (item) &#123;</span></span><br><span class="line">   <span class="comment">//   return item &gt;= 40</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line">   <span class="comment">// const newArr1 = arr1.find(item =&gt; item &gt;= 40)</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">// findIndex 查找索引号</span></span><br><span class="line">   <span class="comment">// const newArr1 = arr1.findIndex(function (item) &#123;</span></span><br><span class="line">   <span class="comment">//   return item &gt;= 40</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line">   <span class="comment">// console.log(newArr1)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// every 检查数组所有元素都是否满足条件</span></span><br><span class="line">   <span class="comment">// const groupScore = [40, 80, 90, 100]</span></span><br><span class="line">   <span class="comment">// const result = groupScore.every(function (item) &#123;</span></span><br><span class="line">   <span class="comment">//   return item &gt;= 80</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line">   <span class="comment">// console.log(result)    //flase</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// some 检查数组中是否有满足条件</span></span><br><span class="line">   <span class="keyword">const</span> groupScore = [<span class="number">40</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">100</span>]</span><br><span class="line">   <span class="keyword">const</span> result = groupScore.<span class="title function_">some</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> item &gt;= <span class="number">90</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result)   <span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">//Array.from() 伪数组转为真数组</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">getSum</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> re= <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">arguments</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev, item</span>) =&gt;</span> prev + item)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(re)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title function_">getSum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

![Snipaste_2022-07-01_18-09-31](E:\能放\前端\截图\js进阶\Snipaste_2022-07-01_18-09-31.png)

#### 5.3 String

在 JavaScript 中的字符串、数值、布尔具有对象的使用特征，如具有属性和方法

之所以具有对象特征的原因是字符串、数值、布尔类型数据是 JavaScript 底层使用 Object 构造函数“包装”来的，被称

为包装类型。![Snipaste_2022-07-01_18-28-45](E:\能放\前端\截图\js进阶\Snipaste_2022-07-01_18-28-45.png)

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.split 把字符串分割 返回数组 和 join() 相反</span></span><br><span class="line">    <span class="comment">// const str1 = &#x27;abcd,efg&#x27;</span></span><br><span class="line">    <span class="comment">// const arr = str1.split(&#x27;,&#x27;)</span></span><br><span class="line">    <span class="comment">// const str2 = &#x27;2022-06-27&#x27;</span></span><br><span class="line">    <span class="comment">// const arr1 = str2.split(&#x27;-&#x27;)</span></span><br><span class="line">    <span class="comment">// console.log(arr)</span></span><br><span class="line">    <span class="comment">// console.log(arr1)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.字符串截取 substring(开始的索引号[,结束的索引号])</span></span><br><span class="line">    <span class="comment">// 如果省略结束的索引号，默认取到最后</span></span><br><span class="line">    <span class="comment">// 结束的索引号不包含想要截取的部分</span></span><br><span class="line">    <span class="comment">// const str = &#x27;了空间和规范的撒&#x27;</span></span><br><span class="line">    <span class="comment">// console.log(str.substring(1, 3))		//空间</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.startsWith 判断是不是以某个字符开头</span></span><br><span class="line">    <span class="comment">// const str = &#x27;abcdefg&#x27;</span></span><br><span class="line">    <span class="comment">// console.log(str.startsWith(&#x27;abc&#x27;)) //返回true</span></span><br><span class="line">    <span class="comment">// console.log(str.startsWith(&#x27;bcd&#x27;)) //返回false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4.includes 判断某个字符串是不是包含在一个字符串里</span></span><br><span class="line">    <span class="comment">// const str = &#x27;abcdefg&#x27;</span></span><br><span class="line">    <span class="comment">// console.log(str.includes(&#x27;bce&#x27;)) //返回true</span></span><br><span class="line">    <span class="comment">// console.log(str.includes(&#x27;fgh&#x27;)) //返回false</span></span><br><span class="line">    <span class="comment">// console.log(str.includes(&#x27;abc&#x27;,1)) //返回false</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//5. length 用来获取字符串的长度</span></span><br><span class="line">	<span class="keyword">const</span> str = <span class="string">&#x27;今天天气真好666！&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="property">length</span>)		<span class="comment">//10</span></span><br></pre></td></tr></table></figure>

#### 5.4 Number

Number 是内置的构造函数，用于创建数值

常用方法：

toFixed() 设置保留小数位的长度

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> price = <span class="number">12.345</span></span><br><span class="line"><span class="keyword">const</span> price2 = <span class="number">12.385</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(price.<span class="title function_">toFixed</span>(<span class="number">2</span>))  <span class="comment">//12.35 保留两位小数 假四舍五入</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(price2.<span class="title function_">toFixed</span>(<span class="number">2</span>))  <span class="comment">//12.38 保留两位小数 假四舍五入</span></span><br></pre></td></tr></table></figure>

小案例

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const gift = &#x27;50g的茶叶,清洗球&#x27;</span></span><br><span class="line">    <span class="comment">// // 1.把字符串拆分为数组</span></span><br><span class="line">    <span class="comment">// console.log( gift.split(&#x27;,&#x27;))</span></span><br><span class="line">    <span class="comment">// // 2.根据数组元素的个数，生成对应 span 标签</span></span><br><span class="line">    <span class="comment">// const str = gift.split(&#x27;,&#x27;).map(function (item) &#123;</span></span><br><span class="line">    <span class="comment">//   return `&lt;span&gt;【赠品】 $&#123;item&#125;&lt;/span&gt;&lt;/br&gt;`</span></span><br><span class="line">    <span class="comment">// &#125;).join(&#x27;&#x27;)</span></span><br><span class="line">    <span class="comment">// console.log(str)</span></span><br><span class="line">    <span class="comment">// document.querySelector(&#x27;div&#x27;).innerHTML = str</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> gift = <span class="string">&#x27;50g的茶叶,清洗球&#x27;</span></span><br><span class="line">    <span class="comment">// 1.把字符串拆分为数组</span></span><br><span class="line">    <span class="comment">// 2.根据数组元素的个数，生成对应 span 标签  </span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">innerHTML</span> = gift.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>).<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="string">`&lt;span&gt;【赠品】 <span class="subst">$&#123;item&#125;</span>&lt;/span&gt;&lt;/br&gt;`</span>).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

#### 综合案例

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">     <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">     <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.list</span> &#123;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">990px</span>;</span><br><span class="line">     <span class="attribute">margin</span>: <span class="number">100px</span> auto <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> &#123;</span><br><span class="line">     <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">     <span class="attribute">transition</span>: all .<span class="number">5s</span>;</span><br><span class="line">     <span class="attribute">display</span>: flex;</span><br><span class="line">     <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#e4e4e4</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>n) &#123;</span><br><span class="line">     <span class="attribute">margin-left</span>: <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">     <span class="attribute">cursor</span>: pointer;</span><br><span class="line">     <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">     <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">     <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">     <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">     <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.name</span> <span class="selector-class">.tag</span> &#123;</span><br><span class="line">     <span class="attribute">display</span>: block;</span><br><span class="line">     <span class="attribute">padding</span>: <span class="number">2px</span>;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">     <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.price</span>,</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.sub-total</span> &#123;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">     <span class="attribute">color</span>: firebrick;</span><br><span class="line">     <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.price</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.sub-total</span><span class="selector-pseudo">::before</span>,</span><br><span class="line">   <span class="selector-class">.amount</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">     <span class="attribute">content</span>: <span class="string">&quot;¥&quot;</span>;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.spec</span> &#123;</span><br><span class="line">     <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">     <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.item</span> <span class="selector-class">.count</span> &#123;</span><br><span class="line">     <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">     <span class="attribute">color</span>: <span class="number">#aaa</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.total</span> &#123;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">990px</span>;</span><br><span class="line">     <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">     <span class="attribute">display</span>: flex;</span><br><span class="line">     <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">     <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#e4e4e4</span>;</span><br><span class="line">     <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="selector-class">.total</span> <span class="selector-class">.amount</span> &#123;</span><br><span class="line">     <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">     <span class="attribute">color</span>: firebrick;</span><br><span class="line">     <span class="attribute">font-weight</span>: bold;</span><br><span class="line">     <span class="attribute">margin-right</span>: <span class="number">50px</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="comment">      &lt;img src=&quot;https://yanxuan-item.nosdn.127.net/84a59ff9c58a77032564e61f716846d6.jpg&quot; alt=&quot;&quot;&gt;</span></span><br><span class="line"><span class="comment">      &lt;p class=&quot;name&quot;&gt;称心如意手摇咖啡磨豆机咖啡豆研磨机 &lt;span class=&quot;tag&quot;&gt;【赠品】10优惠券&lt;/span&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;p class=&quot;spec&quot;&gt;白色/10寸&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;p class=&quot;price&quot;&gt;289.90&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;p class=&quot;count&quot;&gt;x2&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;p class=&quot;sub-total&quot;&gt;579.80&lt;/p&gt;</span></span><br><span class="line"><span class="comment">    &lt;/div&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;total&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>合计：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;amount&quot;</span>&gt;</span>1000.00<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> goodsList = [</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="string">&#x27;4001172&#x27;</span>,</span><br><span class="line">       <span class="attr">name</span>: <span class="string">&#x27;称心如意手摇咖啡磨豆机咖啡豆研磨机&#x27;</span>,</span><br><span class="line">       <span class="attr">price</span>: <span class="number">289.9</span>,</span><br><span class="line">       <span class="attr">picture</span>: <span class="string">&#x27;https://yanxuan-item.nosdn.127.net/84a59ff9c58a77032564e61f716846d6.jpg&#x27;</span>,</span><br><span class="line">       <span class="attr">count</span>: <span class="number">2</span>,</span><br><span class="line">       <span class="attr">spec</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;白色&#x27;</span> &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="string">&#x27;4001009&#x27;</span>,</span><br><span class="line">       <span class="attr">name</span>: <span class="string">&#x27;竹制干泡茶盘正方形沥水茶台品茶盘&#x27;</span>,</span><br><span class="line">       <span class="attr">price</span>: <span class="number">109.8</span>,</span><br><span class="line">       <span class="attr">picture</span>: <span class="string">&#x27;https://yanxuan-item.nosdn.127.net/2d942d6bc94f1e230763e1a5a3b379e1.png&#x27;</span>,</span><br><span class="line">       <span class="attr">count</span>: <span class="number">3</span>,</span><br><span class="line">       <span class="attr">spec</span>: &#123; <span class="attr">size</span>: <span class="string">&#x27;40cm*40cm&#x27;</span>, <span class="attr">color</span>: <span class="string">&#x27;黑色&#x27;</span> &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="string">&#x27;4001874&#x27;</span>,</span><br><span class="line">       <span class="attr">name</span>: <span class="string">&#x27;古法温酒汝瓷酒具套装白酒杯莲花温酒器&#x27;</span>,</span><br><span class="line">       <span class="attr">price</span>: <span class="number">488</span>,</span><br><span class="line">       <span class="attr">picture</span>: <span class="string">&#x27;https://yanxuan-item.nosdn.127.net/44e51622800e4fceb6bee8e616da85fd.png&#x27;</span>,</span><br><span class="line">       <span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">       <span class="attr">spec</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;青色&#x27;</span>, <span class="attr">sum</span>: <span class="string">&#x27;一大四小&#x27;</span> &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">id</span>: <span class="string">&#x27;4001649&#x27;</span>,</span><br><span class="line">       <span class="attr">name</span>: <span class="string">&#x27;大师监制龙泉青瓷茶叶罐&#x27;</span>,</span><br><span class="line">       <span class="attr">price</span>: <span class="number">139</span>,</span><br><span class="line">       <span class="attr">picture</span>: <span class="string">&#x27;https://yanxuan-item.nosdn.127.net/4356c9fc150753775fe56b465314f1eb.png&#x27;</span>,</span><br><span class="line">       <span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">       <span class="attr">spec</span>: &#123; <span class="attr">size</span>: <span class="string">&#x27;小号&#x27;</span>, <span class="attr">color</span>: <span class="string">&#x27;紫色&#x27;</span> &#125;,</span><br><span class="line">       <span class="attr">gift</span>: <span class="string">&#x27;50g茶叶,清洗球&#x27;</span></span><br><span class="line">     &#125;</span><br><span class="line">   ]</span><br><span class="line"></span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.list&#x27;</span>).<span class="property">innerHTML</span> = goodsList.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="comment">// console.log(item)</span></span><br><span class="line">     <span class="keyword">const</span> &#123; name, price, count, picture, spec, gift &#125; = item</span><br><span class="line">     <span class="keyword">const</span> text = <span class="title class_">Object</span>.<span class="title function_">values</span>(spec).<span class="title function_">join</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">     <span class="keyword">const</span> subTotal = ((price * <span class="number">100</span> * count) / <span class="number">100</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>)</span><br><span class="line">     <span class="keyword">const</span> str = gift ? gift.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>).<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="string">`&lt;span class=&quot;tag&quot;&gt;【赠品】<span class="subst">$&#123;item&#125;</span>&lt;/span&gt;`</span>).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>) : <span class="string">&#x27;&#x27;</span></span><br><span class="line">     <span class="comment">// console.log(str)</span></span><br><span class="line">     <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">     &lt;div class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">       &lt;img src=&quot;<span class="subst">$&#123;picture&#125;</span>&quot; alt=&quot;&quot;&gt;</span></span><br><span class="line"><span class="string">       &lt;p class=&quot;name&quot;&gt;<span class="subst">$&#123;name&#125;</span> <span class="subst">$&#123;str&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">       &lt;p class=&quot;spec&quot;&gt;<span class="subst">$&#123;text&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">       &lt;p class=&quot;price&quot;&gt;<span class="subst">$&#123;price.toFixed(<span class="number">2</span>)&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">       &lt;p class=&quot;count&quot;&gt;x<span class="subst">$&#123;count&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">       &lt;p class=&quot;sub-total&quot;&gt;<span class="subst">$&#123;subTotal&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">     &lt;/div&gt;</span></span><br><span class="line"><span class="string">     `</span></span><br><span class="line">   &#125;).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">   <span class="keyword">const</span> total = goodsList.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev, item</span>) =&gt;</span> prev + (item.<span class="property">price</span> * <span class="number">100</span> * item.<span class="property">count</span>)/<span class="number">100</span>, <span class="number">0</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>)</span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.amount&#x27;</span>).<span class="property">innerHTML</span> = total</span><br></pre></td></tr></table></figure>

### 6-编程思想

#### 6.1.1 面向过程

面向过程就是分析出解决问题所需要的步骤，然后用函数把这些步骤一步一步实现，使用的时候再一个一个的依次

调用就可以了。

面向过程，就是按照我们分析好了的步骤，按照步骤解决问题。

#### 6.1.2  面向对象编程 (oop)

面向对象是把事务分解成为一个个对象，然后由对象之间分工与合作。

面向对象是以对象功能来划分问题，而不是步骤。



在面向对象程序开发思想中，每一个对象都是功能中心，具有明确分工。 

面向对象编程具有灵活、代码可复用、容易维护和开发的优点，更适合多人合作的大型软件项目。 

**面向对象的特性：** 

**1.封装性**

**2.继承性**

**3.多态性**

编程思想-面向过程和面向对象的对比

**面向过程编程** 

优点：性能比面向对象高，适合跟硬件联系很紧密的东西，例如单片机就采用的面向过程编程。

缺点：没有面向对象易维护、易复用、易扩展

**面向对象编程**

优点：易维护、易复用、易扩展，由于面向对象有封装、继承、多态性的特性，可以设计出低耦合的系统，使系统 更加活、更加易于维护

缺点：性能比面向过程低![编程思想对比](E:\能放\前端\截图\js进阶\编程思想对比.png)

### 7-构造函数

封装是面向对象思想中比较重要的一部分，js面向对象可以通过构造函数实现的封装。

同样的将变量和函数组合到了一起并能通过 this 实现数据的共享，所不同的是借助构造函数创建出来的实例对象之间是彼此不影响的。

总结：

1.构造函数体现了面向对象的封装特性

2.构造函数实例创建的对象彼此独立、互不影响

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname, age</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">uname</span> = uname</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> zs = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;张三&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="keyword">const</span> ls = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;李四&#x27;</span>, <span class="number">19</span>)</span><br></pre></td></tr></table></figure>

封装是面向对象思想中比较重要的一部分，js面向对象可以通过构造函数实现的封装。

前面我们学过的构造函数方法很好用，但是 存在浪费内存的问题

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname, age</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">uname</span> = uname</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我会唱歌&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">const</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="keyword">const</span> zxy = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;张学友&#x27;</span>, <span class="number">19</span>)</span><br></pre></td></tr></table></figure>

我们希望所有的对象使用同一个函数，这样就比较节省内存，那么我们要怎样做呢？   =>  原型

### 8-原型

#### 8.1  prototype 属性

构造函数通过原型分配的函数是所有对象所 共享的。 

JavaScript 规定，**每一个构造函数都有一个 prototype 属性**，指向另一个对象，所以我们也称为原型对象

这个对象可以挂载函数，对象实例化不会多次创建原型上函数，节约内存

我们可以把那些不变的方法，直接定义在 prototype 对象上，这样所有对象的实例就可以共享这些方法。 

构造函数和原型对象中的this 都指向 实例化的对象

**原型是：一个对象，我们也称为 prototype 为原型对象。**

**原型的作用是：**

**1.共享方法**

**2.可以把那些不变的方法，直接定义在 prototype 对象上**

**构造函数和原型里面的this指向 > 实例化的对象**

![原型](E:\能放\前端\截图\js进阶\原型.png)

![Snipaste_2022-07-01_20-17-06](E:\能放\前端\截图\js进阶\Snipaste_2022-07-01_20-17-06.png)

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 每一个构造函数上都有一个prototype属性。prototype指向的是一个对象。 也叫做原型对象（也常说prototype就是原型对象）</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sing</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;唱歌&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>, <span class="number">18</span>);</span><br><span class="line">    <span class="comment">// 原型对象上的方法(和属性)可以被构造函数的实例所共享</span></span><br><span class="line">    ldh.<span class="title function_">sing</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> zxy = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;张学友&#x27;</span>, <span class="number">20</span>)</span><br><span class="line">    zxy.<span class="title function_">sing</span>();</span><br><span class="line">    <span class="comment">// 挂载到原型对象上的方法 多次创建对象的时候  不会多次开辟空间，节约了内存</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">sing</span> === zxy.<span class="property">sing</span>)  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

##### 8.1.1原型- this指向

构造函数和原型对象中的this 都指向 实例化的对象

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> that</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname</span>) &#123;</span><br><span class="line">      <span class="comment">// that = this</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">uname</span> = uname</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 原型对象的函数 this 还是指向实例对象 xd</span></span><br><span class="line">    <span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sing</span> = <span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">      that = <span class="variable language_">this</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;唱歌&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//构造函数里面的 this 就是 实例对象 xd</span></span><br><span class="line">    <span class="keyword">const</span> xd = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;熊大&#x27;</span>)</span><br><span class="line">    xd.<span class="title function_">sing</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(that === xd)    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

给数组扩展方法求最大值最小值求和

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">max</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">max</span>(...<span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">min</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">min</span>(...<span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sum</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev, item</span>) =&gt;</span> prev + item, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">max</span>())</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">min</span>())</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">sum</span>())</span><br></pre></td></tr></table></figure>

#### 8.2 constructor 属性

每个原型对象里面都有个constructor 属性（constructor 构造函数）

作用：该属性指向该原型对象的构造函数， 简单理解，就是指向我的爸爸，我是有爸爸的孩子

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// constructor属性存在于 构造函数的原型对象上</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// constructor指向的构造函数</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>)</span><br></pre></td></tr></table></figure>

![constructor](E:\能放\前端\截图\js进阶\constructor.png)

使用场景：

如果有多个对象的方法，我们可以给原型对象采取对象形式赋值.

但是这样就会覆盖构造函数原型对象原来的内容，这样修改后的原型对象 constructor 就不再指向当前构造函数了

此时，我们可以在修改后的原型对象中，添加一个 constructor 指向原来的构造函数。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 挂载到原型对象上的原因是节约内存</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        // 这么写代码重复度太高</span></span><br><span class="line"><span class="comment">        Star.prototype.sing = function () &#123;</span></span><br><span class="line"><span class="comment">          console.log(&#x27;唱歌&#x27;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">        Star.prototype.dance = function () &#123;</span></span><br><span class="line"><span class="comment">          console.log(&#x27;跳舞&#x27;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">        Star.prototype.movie = function () &#123;</span></span><br><span class="line"><span class="comment">          console.log(&#x27;演电影&#x27;)</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line">    <span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">      <span class="attr">constructor</span>: <span class="title class_">Star</span>,</span><br><span class="line">      <span class="attr">sing</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;唱歌&#x27;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">dance</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;跳舞&#x27;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">movie</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;演电影&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line">    <span class="keyword">const</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">    ldh.<span class="title function_">sing</span>();</span><br><span class="line">    ldh.<span class="title function_">dance</span>();</span><br><span class="line">    ldh.<span class="title function_">movie</span>();</span><br></pre></td></tr></table></figure>

#### 8.3 对象原型

对象都会有一个属性 ____proto___ 指向构造函数的 prototype 原型对象，之所以我们对象可以使用构造函数 prototype 

原型对象的属性和方法，就是因为对象有 ____proto___原型的存在。

![对象原型](E:\能放\前端\截图\js进阶\对象原型.png)

注意：

____proto___是JS非标准属性

[[prototype]]和______proto_____意义相同

用来表明当前实例对象指向哪个原型对象prototype

_______proto______对象原型里面也有一个 constructor属性，指向创建该实例对象的构造函数



对象都会有一个属性 ____proto___指向构造函数的 prototype 原型对象，之所以我们对象可以使用构造函数 prototype 

原型对象的属性和方法，就是因为对象有 ____proto___原型的存在。

![对象原型1](E:\能放\前端\截图\js进阶\对象原型1.png)

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数可以通过new方式 实例化对象</span></span><br><span class="line">    <span class="comment">// ldh =&gt;实例对象</span></span><br><span class="line">    <span class="keyword">const</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数上都有一个属性prototype 指向的原型对象</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line">    <span class="comment">// 每一个原型对象上都有一个属性叫constructor 指向的构造函数</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Star</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对象上都有属性叫做__proto__【对象原型】</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">__proto__</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对象的对象原型 指向的是 构造函数的原型对象</span></span><br><span class="line">    <span class="comment">// __proto__只读属性</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">__proto__</span> === <span class="title class_">Star</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 实例对象的对象原型也有constructor 指向的构造函数</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">__proto__</span>.<span class="property">constructor</span> === <span class="title class_">Star</span>)</span><br></pre></td></tr></table></figure>

1.prototype是什么？哪里来的？

原型（原型对象）

构造函数都自动有原型

2.constructor属性在哪里？作用干啥的？

prototype原型和对象原型__proto__里面都有

都指向创建实例对象/原型的构造函数

3._proto__属性在哪里？指向谁？

在实例对象里面	

指向原型 prototype

#### 8.4 原型继承

继承是面向对象编程的另一个特征，通过继承进一步提升代码封装的程度，JavaScript 中大多是借助原型对象实现继承

的特性。

##### 8.4.1 封装-抽取公共部分

把公共的部分抽取出来

![封装](E:\能放\前端\截图\js进阶\封装.png)

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//提取公共部分</span></span><br><span class="line">  cosnt <span class="title class_">Person</span> = &#123;</span><br><span class="line">     nose : <span class="number">1</span>;</span><br><span class="line">     eyes : <span class="number">2</span>;</span><br><span class="line">     eat : <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;吃饭&#x27;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125; </span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Man</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">//nose : 1;</span></span><br><span class="line">   <span class="comment">//eyes : 2;</span></span><br><span class="line">   <span class="comment">//eat : function () &#123;</span></span><br><span class="line">    <span class="comment">//   console.log(&#x27;吃饭&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Man</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">   <span class="title class_">Man</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Man</span>;</span><br><span class="line">   <span class="keyword">const</span> lw = <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">   <span class="comment">// console.log(lw.baby());</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Woman</span>(<span class="params"></span>) &#123;</span><br><span class="line"> <span class="comment">// nose : 1;</span></span><br><span class="line">    <span class="comment">// eyes : 2;</span></span><br><span class="line">    <span class="comment">// eat : function () &#123;</span></span><br><span class="line">     <span class="comment">//  console.log(&#x27;吃饭&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Woman</span>;</span><br><span class="line">   <span class="keyword">const</span> fengjie = <span class="keyword">new</span> <span class="title class_">Woman</span>();</span><br></pre></td></tr></table></figure>

##### 8.4.2 继承

继承公共部分的属性和方法，可以共享这些公共的属性和方法

继承-让男人和女人都能继承人类的一些属性和方法

1.把男人女人公共的属性和方法抽取出来 People

2.然后赋值给Man的原型对象，可以共享这些属性和方法

3.注意让constructor指回Man这个构造函数

![继承](E:\能放\前端\截图\js进阶\继承.png)

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">//提取公共部分</span></span><br><span class="line">  cosnt <span class="title class_">Person</span> = &#123;</span><br><span class="line">     nose : <span class="number">1</span>;</span><br><span class="line">     eyes : <span class="number">2</span>;</span><br><span class="line">     eat : <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;吃饭&#x27;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Man</span>(<span class="params"></span>) &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Man</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">   <span class="title class_">Man</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Man</span>;</span><br><span class="line">   <span class="keyword">const</span> lw = <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">   <span class="comment">// console.log(lw.baby());</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Woman</span>(<span class="params"></span>) &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Woman</span>;</span><br><span class="line">   <span class="keyword">const</span> fengjie = <span class="keyword">new</span> <span class="title class_">Woman</span>();</span><br></pre></td></tr></table></figure>

##### 8.4.3 继承写法完善

不要使用同一个对象，但是不同对象里面包含相同的属性和方法

![继承问题](E:\能放\前端\截图\js进阶\继承问题.png)

![继承原因](E:\能放\前端\截图\js进阶\继承原因.png)

解决方法：构造函数

new 每次都会创建一个新的对象

![解决](E:\能放\前端\截图\js进阶\解决.png)

![继承完善写法](E:\能放\前端\截图\js进阶\继承完善写法.png)

![继承完善写法1](E:\能放\前端\截图\js进阶\继承完善写法1.png)

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">nose</span> = <span class="number">1</span>;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">eyes</span> = <span class="number">2</span>;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">eat</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;吃饭&#x27;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Man</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Man</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">   <span class="title class_">Man</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Man</span>;</span><br><span class="line">   <span class="keyword">const</span> lw = <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">   <span class="comment">// console.log(lw.baby());</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">Woman</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">baby</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;生孩子&#x27;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title class_">Woman</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Woman</span>;</span><br><span class="line">   <span class="keyword">const</span> fengjie = <span class="keyword">new</span> <span class="title class_">Woman</span>();</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(fengjie.<span class="title function_">baby</span>())</span><br><span class="line">   </span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(lw === fengjie)  <span class="comment">//false</span></span><br></pre></td></tr></table></figure>



#### 8.5 原型链

基于原型对象的继承使得不同构造函数的原型对象关联在一起，并且这种关联的关系是一种链状的结构，我们将原型对

象的链状结构关系称为原型链

**所有的对象里面都有____proto__对象原型  指向原型对象**

**所有的原型对象都有constructor 指回创造该原型对象的构造函数**

![原型链](E:\能放\前端\截图\js进阶\原型链.png)

##### 8.5.1 原型链-查找规则

① 当访问一个对象的属性（包括方法）时，首先查找这个对象自身有没有该属性。

② 如果没有就查找它的原型（也就是 ____proto__指向的 prototype 原型对象） 

③ 如果还没有就查找原型对象的原型（Object的原型对象） 

④ 依此类推一直找到 Object 为止（null） 

⑤ ____proto__对象原型的意义就在于为对象成员查找机制提供一个方向，或者说一条路线

**⑥ 可以使用 instanceof 运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上**

##### 综合案例

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.modal</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">      <span class="attribute">min-height</span>: <span class="number">100px</span>;</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">      <span class="attribute">position</span>: fixed;</span><br><span class="line">      <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">50%</span>, -<span class="number">50%</span>, <span class="number">0</span>);</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.modal</span> <span class="selector-class">.header</span> &#123;</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">position</span>: relative;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.modal</span> <span class="selector-class">.header</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">      <span class="attribute">font-style</span>: normal;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">right</span>: <span class="number">15px</span>;</span><br><span class="line">      <span class="attribute">top</span>: -<span class="number">2px</span>;</span><br><span class="line">      <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.modal</span> <span class="selector-class">.body</span> &#123;</span><br><span class="line">      <span class="attribute">text-align</span>: center;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.modal</span> <span class="selector-class">.footer</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.modal</span> <span class="selector-class">.footer</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">8px</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">      <span class="attribute">text-decoration</span>: none;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">      <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.modal</span> <span class="selector-class">.footer</span> <span class="selector-tag">a</span><span class="selector-class">.submit</span> &#123;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#369</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;delete&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;login&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- &lt;div class=&quot;modal&quot;&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;header&quot;&gt;温馨提示 &lt;i&gt;x&lt;/i&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;body&quot;&gt;您没有删除权限操作&lt;/div&gt;</span></span><br><span class="line"><span class="comment">  &lt;/div&gt; --&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.模态框的构造函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Modal</span>(<span class="params">title = <span class="string">&#x27;&#x27;</span>, message = <span class="string">&#x27;&#x27;</span></span>) &#123;</span><br><span class="line">      <span class="comment">// 公共部分</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">title</span> = title</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">message</span> = message</span><br><span class="line">      <span class="comment">// 1.创建盒子  谁 new 给谁用</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">modalBox</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">      <span class="comment">// 2.添加类名</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">modalBox</span>.<span class="property">className</span> = <span class="string">&#x27;modal&#x27;</span></span><br><span class="line">      <span class="comment">// 3.填充内容   更换数据</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">modalBox</span>.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;header&quot;&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.title&#125;</span> &lt;i&gt;x&lt;/i&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;body&quot;&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.message&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2.打开方法 挂载到原型身上</span></span><br><span class="line">    <span class="title class_">Modal</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 只有你没有modal的时候才执行这段代码</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.modal&#x27;</span>)) &#123;</span><br><span class="line">        <span class="comment">// 把创建的盒子 modalBox 渲染到页面中 追加到给定父节点    语法：父元素.appendChild(子元素)</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">modalBox</span>)</span><br><span class="line">        <span class="comment">// 把关闭写在打开方法里 获取 x 调用关闭方法</span></span><br><span class="line">        <span class="comment">// 箭头函数没有 this 它指向函数里面的 this , 函数里的this 指向 m</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">modalBox</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;i&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">close</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3.关闭方法 挂载到原型身上</span></span><br><span class="line">    <span class="title class_">Modal</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">close</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(<span class="variable language_">this</span>.<span class="property">modalBox</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.按钮点击删除 就创建模态框</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#delete&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 传递参数</span></span><br><span class="line">      <span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Modal</span>(<span class="string">&#x27;温馨提示&#x27;</span>, <span class="string">&#x27;您没有删除权限操作&#x27;</span>)</span><br><span class="line">      <span class="comment">// 调用打开方法</span></span><br><span class="line">      m.<span class="title function_">open</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 5.按钮点击登录 就创建模态框</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#login&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Modal</span>(<span class="string">&#x27;友情提示&#x27;</span>, <span class="string">&#x27;您没有注册账户&#x27;</span>)</span><br><span class="line">      <span class="comment">// 调用打开方法</span></span><br><span class="line">      m.<span class="title function_">open</span>()</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

### 9-深浅拷贝

#### 9.1 浅拷贝

首先浅拷贝和深拷贝只针对引用类型

浅拷贝：对象中的简单类型拷贝值，复杂类型拷贝的是地址

常见方法：

1.拷贝对象：Object.assgin() / 展开运算符 {...obj} 拷贝对象

2.拷贝数组：Array.prototype.concat() 或者 [...arr]

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">     <span class="attr">uname</span>: <span class="string">&#x27;pink&#x27;</span>,</span><br><span class="line">     <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">     <span class="attr">family</span>: &#123;</span><br><span class="line">       <span class="attr">baby</span>: <span class="string">&#x27;小pink&#x27;</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 1.浅拷贝(展开运算符)</span></span><br><span class="line">   <span class="comment">// const o = &#123;...obj&#125;</span></span><br><span class="line">   <span class="comment">// console.log(o)</span></span><br><span class="line">   <span class="comment">// o.age = 20</span></span><br><span class="line">   <span class="comment">// console.log(o)</span></span><br><span class="line">   <span class="comment">// console.log(obj)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 2.浅拷贝(assign)</span></span><br><span class="line">   <span class="keyword">const</span> o = &#123;&#125;</span><br><span class="line">   <span class="title class_">Object</span>.<span class="title function_">assign</span>(o, obj)</span><br><span class="line">   o.<span class="property">age</span> = <span class="number">20</span></span><br><span class="line">   <span class="comment">// 浅拷贝拷贝的是地址 适合用于简单数据类型</span></span><br><span class="line">   <span class="comment">//o.family.baby = &#x27;老pink&#x27;</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(o)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

**直接赋值和浅拷贝有什么区别？**

1.直接赋值的方法，只要是对象，都会相互影响，因为是直接拷贝对象栈里面的地址

2.浅拷贝如果是一层对象，不相互影响，如果出现多层对象拷贝还会相互影响

**浅拷贝怎么理解？**

1.拷贝对象之后，里面的属性值是简单数据类型直接拷贝值

2.如果属性值是引用数据类型则拷贝的是地址

#### 9.2 深拷贝

首先浅拷贝和深拷贝只针对引用类型

深拷贝：拷贝的是对象，不是地址

常见方法：

1.通过递归实现深拷贝

2.lodash/cloneDeep

3.通过JSON.stringify()实现

##### 9.2.1 通过递归实现深拷贝

函数递归：

如果一个函数在内部可以调用其本身，那么这个函数就是递归函数

1.简单理解:函数内部自己调用自己, 这个函数就是递归函数

2.递归函数的作用和循环效果类似

3.由于递归很容易发生“栈溢出”错误（stack overflow），所以必须要加退出条件 return

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line">   <span class="comment">// 递归函数 自己调用自己</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`这是第<span class="subst">$&#123;i&#125;</span>次`</span>)</span><br><span class="line">     <span class="keyword">if</span> (i &gt;= <span class="number">6</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line">     i++</span><br><span class="line">     <span class="title function_">fn</span>()</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用递归函数 模拟setInterval效果</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getTime</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">innerHTML</span> = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toLocaleString</span>()</span><br><span class="line">      <span class="built_in">setTimeout</span>(getTime, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getTime</span>()</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组拷贝</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;熊大&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">10</span>,</span><br><span class="line">      <span class="attr">hobby</span>: [<span class="string">&#x27;乒乓球&#x27;</span>, <span class="string">&#x27;足球&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> o = &#123;&#125;</span><br><span class="line">    <span class="comment">// 拷贝数组</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">newObj, oldObj</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> oldObj) &#123;</span><br><span class="line">        <span class="comment">// 处理数组问题</span></span><br><span class="line">        <span class="comment">// 检测类似是不是数组</span></span><br><span class="line">        <span class="keyword">if</span> (oldObj[k] <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">          <span class="comment">// 把数组 hobby 里的内容再次遍历  可以使用递归自己调用自己</span></span><br><span class="line">          newObj[k] = []</span><br><span class="line">          <span class="comment">// newObj[k] 是新数组里的值  oldObj[k]是旧数组里的值 === [&#x27;乒乓球&#x27;, &#x27;足球&#x27;]</span></span><br><span class="line">          <span class="comment">// 把旧数组的值传进去遍历给新数组</span></span><br><span class="line">          <span class="title function_">deepClone</span>(newObj[k],oldObj[k])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// k 表示属性名 uname    oldObj[k] 表示属性值 10</span></span><br><span class="line">          <span class="comment">// newObj[k] === o.name</span></span><br><span class="line">          newObj[k] = oldObj[k]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">deepClone</span>(o, obj)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(o)</span><br><span class="line">    o.<span class="property">age</span> = <span class="number">20</span></span><br><span class="line">    o.<span class="property">hobby</span>[<span class="number">0</span>] = <span class="string">&#x27;篮球&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

##### 9.2.2 lodash/cloneDeep

js库lodash里面cloneDeep内部实现了深拷贝

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./lodash.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;熊大&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">10</span>,</span><br><span class="line">      <span class="attr">hobby</span>: [<span class="string">&#x27;乒乓球&#x27;</span>, <span class="string">&#x27;足球&#x27;</span>],</span><br><span class="line">      <span class="attr">family</span>: &#123;</span><br><span class="line">        <span class="attr">baby</span>: <span class="string">&#x27;小熊&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//_.cloneDeep(要被克隆的对象)</span></span><br><span class="line">    <span class="keyword">const</span> o = _.<span class="title function_">cloneDeep</span>(obj)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(o)</span><br><span class="line">    o.<span class="property">family</span>.<span class="property">baby</span> = <span class="string">&#x27;大熊&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

##### 9.2.3 通过JSON.stringify()实现

利用JSON字符串转换

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">      <span class="attr">uname</span>: <span class="string">&#x27;熊大&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">10</span>,</span><br><span class="line">      <span class="attr">hobby</span>: [<span class="string">&#x27;乒乓球&#x27;</span>, <span class="string">&#x27;足球&#x27;</span>],</span><br><span class="line">      <span class="attr">family</span>: &#123;</span><br><span class="line">        <span class="attr">baby</span>: <span class="string">&#x27;小熊&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 把对象转换为 JSON 字符串  拿到的全是字符串</span></span><br><span class="line">    <span class="comment">// JSON.stringify(obj)</span></span><br><span class="line">    <span class="keyword">const</span> o = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj))</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(o)</span><br><span class="line">    o.<span class="property">family</span>.<span class="property">baby</span> = <span class="string">&#x27;123&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

### 10-异常处理

#### 10.1 throw 抛异常

异常处理是指预估代码执行过程中可能发生的错误，然后最大程度的避免错误的发生导致整个程序无法继续运行

1.throw 抛出异常信息，程序也会终止执行

2.throw 后面跟的是错误提示信息

3.Error 对象配合 throw 使用，能够设置更详细的错误信息

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!x || !y) &#123;</span><br><span class="line">        <span class="comment">// throw &#x27;用户没有传递参数进来&#x27;</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;没有参数传递进来&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> x + y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>())</span><br></pre></td></tr></table></figure>

#### 10.2 try /catch 捕获异常

我们可以通过try / catch 捕获错误信息（浏览器提供的错误信息） try 试试 catch 拦住 finally 最后

1.try...catch 用于捕获错误信息

2.将预估可能发生错误的代码写在 try 代码段中

3.如果 try 代码段中出现错误后，会执行 catch 代码段，并截获到错误信息

4.finally 不管是否有错误，都会执行

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> p = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.p&#x27;</span>)</span><br><span class="line">        p.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="comment">// 拦截错误信息，不中断</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;错误&#x27;</span>)</span><br><span class="line">        <span class="comment">// 需要加 return 中断程序</span></span><br><span class="line">        <span class="comment">// return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">// 不管你的程序对不对,一定会执行的代码</span></span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;弹出对话框&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>

#### 10.3 debugger

代码中的断点

![debugger](E:\能放\前端\截图\js进阶\debugger.png)

### 11-处理this

#### 11.1 this指向

##### 11.1.1 this指向-普通函数

普通函数的调用方式决定了 this 的值，即【谁调用 this 的值指向谁】

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;button&gt;按钮&lt;/button&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="comment">// 普通函数 this 谁调用指向谁</span></span><br><span class="line">    <span class="comment">// 严格模式下 this 指向 undefined</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//window</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//window</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// window.fn()</span></span><br><span class="line">    <span class="title function_">fn</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//window</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//button</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> obj = &#123;</span><br><span class="line">      <span class="attr">sayHi</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)   <span class="comment">//obj</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="title function_">sayHi</span>()</span><br></pre></td></tr></table></figure>

普通函数没有明确调用者时 this 值为 window，严格模式('use strict')下没有调用者时 this 的值为 undefined

##### 11.1.2 this指向-箭头函数

**箭头函数中的 this 与普通函数完全不同，也不受调用方式的影响，事实上箭头函数中并不存在 this ！**

1.箭头函数会默认帮我们绑定外层 this 的值，所以在箭头函数中 this 的值和外层的 this 是一样的

2.箭头函数中的this引用的就是最近作用域中的this

3.向外层作用域中，一层一层查找this，直到有this的定义

注意情况： 

1.在开发中【使用箭头函数前需要考虑函数中 this 的值】，事件回调函数使用箭头函数时，this 为全局的 window,因此DOM事件回调函数如果里面需要DOM对象的this，则不推荐使用箭头函数

2.同样由于箭头函数 this 的原因，基于原型的面向对象也不推荐采用箭头函数

总结：

1.函数内不存在this，沿用上一级的

2.不适用  构造函数，原型函数，dom事件函数等等

3.适用  需要使用上层this的地方

#### 11.2 改变this

JavaScript 中还允许指定函数中 this 的指向，有 3 个方法可以动态指定普通函数中 this 的指向

##### 11.2.1 call()

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法： fun.<span class="title function_">call</span>(thisArg, arg1, arg2, ...)</span><br></pre></td></tr></table></figure>

1.thisArg：在 fun 函数运行时指定的 this 值 

2.arg1，arg2：传递的其他参数

3.返回值就是函数的返回值，因为它就是调用函数

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">     <span class="attr">uname</span>: <span class="string">&#x27;张三&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 1.调用函数</span></span><br><span class="line">   <span class="comment">// 2.改变 this </span></span><br><span class="line">   <span class="comment">// 3.传递普通参数</span></span><br><span class="line">   fn.<span class="title function_">call</span>(obj, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">   <span class="comment">// 返回值就是函数的返回值</span></span><br></pre></td></tr></table></figure>

##### 11.2.2 apply()

使用 apply 方法调用函数，同时指定被调用函数中 this 的值

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法：fun.<span class="title function_">apply</span>(thisArg, [argsArray])</span><br></pre></td></tr></table></figure>

thisArg：在fun函数运行时指定的 this 值 

argsArray：传递的值，必须包含在数组里面

返回值就是函数的返回值，因为它就是调用函数

因此 apply 主要跟数组有关系，比如使用 Math.max() 求数组的最大值

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">      <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 1.调用函数</span></span><br><span class="line">    <span class="comment">// 2.改变this指向</span></span><br><span class="line">    <span class="comment">// 3.传递数组</span></span><br><span class="line">    <span class="comment">// fn.apply(this指向谁, 数组参数)</span></span><br><span class="line">    fn.<span class="title function_">apply</span>(obj, [<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">    <span class="comment">// 返回值就是函数的返回值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用场景：求数组最大值</span></span><br><span class="line">    <span class="comment">// const max = Math.max(1,2,3)</span></span><br><span class="line">    <span class="comment">// console.log(max)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> arr = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>]</span><br><span class="line">    <span class="keyword">const</span> max = <span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="title class_">Math</span>, arr)</span><br><span class="line">    <span class="keyword">const</span> min = <span class="title class_">Math</span>.<span class="property">min</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, arr)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(max)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(min)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// console.log(Math.max(...arr))</span></span><br></pre></td></tr></table></figure>

##### 11.2.3 bind()

bind() 方法不会调用函数。但是能改变函数内部this 指向

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法：fun.<span class="title function_">bind</span>(thisArg, arg1, arg2, ...)</span><br></pre></td></tr></table></figure>

thisArg：在 fun 函数运行时指定的 this 值 

arg1，arg2：传递的其他参数

返回由指定的 this 值和初始化参数改造的 原函数拷贝 （新函数）

因此当我们只是想改变 this 指向，并且不想调用这个函数的时候，可以使用 bind，比如改变定时器内部的this指向

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;button&gt;发送&lt;/button&gt;</span><br><span class="line"> &lt;script&gt;</span><br><span class="line">   <span class="keyword">const</span> obj = &#123;</span><br><span class="line">     <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 1.bind 不会调用函数</span></span><br><span class="line">   <span class="comment">// 2.改变this指向</span></span><br><span class="line">   <span class="comment">// 3.返回值是个函数，但是这个函数里面的this是更改过的obj</span></span><br><span class="line">   <span class="keyword">const</span> fun = fn.<span class="title function_">bind</span>(obj)</span><br><span class="line">   <span class="comment">// console.log(fun)</span></span><br><span class="line">   <span class="title function_">fun</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 需求： 点击按钮禁用  两秒后开启</span></span><br><span class="line">   <span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line">   btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">     <span class="comment">// 禁用</span></span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">true</span></span><br><span class="line">     <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="comment">// 让this由原来的window 指向btn</span></span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">disabled</span> = <span class="literal">false</span></span><br><span class="line">     &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>), <span class="number">2000</span>)</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>

##### call apply bind 总结

相同点: 

都可以改变函数内部的this指向. 

区别点: 

1.call 和 apply 会调用函数, 并且改变函数内部this指向. 

2.call 和 apply 传递的参数不一样, call 传递参数 aru1, aru2..形式 apply 必须数组形式[arg] 

3.bind 不会调用函数, 可以改变函数内部this指向. 

主要应用场景: 

1.call 调用函数并且可以传递参数

2.apply 经常跟数组有关系. 比如借助于数学对象实现数组最大值最小值

3.bind 不调用函数,但是还想改变this指向. 比如改变定时器内部的this指向

### 12-性能优化

#### 12.1 节流（throttle）

所谓节流，就是指事件触发后，在 n 秒后执行这个事件的处理函数。如果n秒内连续触发事件，则忽略不执行

开发使用场景 – 小米轮播图点击效果 、 鼠标移动、页面尺寸缩放resize、滚动条滚动 就可以加节流

假如一张轮播图完成切换需要300ms， 不加节流效果，快速点击，则嗖嗖嗖的切换

加上节流效果， 不管快速点击多少次， 300ms时间内，只能切换一张图片。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//要求： 鼠标在盒子上移动，里面的数字就会变化+1</span></span><br><span class="line"><span class="comment">//如果以前方式，每次鼠标移动就会有大量操作，触发频次太高</span></span><br><span class="line"><span class="comment">//利用节流的方式， 鼠标经过，500ms ，数字才显示</span></span><br><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;box&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">mouseMove</span>(<span class="params"></span>) &#123;</span><br><span class="line">      box.<span class="property">innerHTML</span> = i++</span><br><span class="line">      <span class="comment">// 如果里面存在大量操作dom 的情况，可能卡顿</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 节流函数 throttle(函数,时间)</span></span><br><span class="line">	<span class="comment">// mouseMove 传给 fn , 500 传给 t</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, t</span>) &#123;</span><br><span class="line">      <span class="comment">// 页面打开的起始时间</span></span><br><span class="line">      <span class="keyword">let</span> startTime = <span class="number">0</span></span><br><span class="line">      <span class="comment">// return function () &#123;</span></span><br><span class="line">      <span class="comment">//   console.log(i)</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// 得到当前的时间戳  </span></span><br><span class="line">        <span class="keyword">let</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        <span class="comment">// 移动后的时间 - 刚开始移动的时间 &gt;= 500ms 我才去执行 mouseMove函数</span></span><br><span class="line">        <span class="comment">// 进行判断 如果大于等于 500ms，则执行函数</span></span><br><span class="line">        <span class="keyword">if</span>(now - startTime &gt;= t)&#123;</span><br><span class="line">          <span class="comment">// 调用函数</span></span><br><span class="line">          <span class="title function_">fn</span>()</span><br><span class="line">          <span class="comment">// 让起始时间 = 现在的时间</span></span><br><span class="line">          startTime = now</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// box.addEventListener(&#x27;mousemove&#x27;, throttle(mouseMove,500))</span></span><br><span class="line">    <span class="comment">// throttle(mousemove, 500) === function()&#123;console.log(i)&#125;</span></span><br><span class="line">    box.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="title function_">throttle</span>(mouseMove,<span class="number">500</span>))</span><br></pre></td></tr></table></figure>

#### 12.2 防抖（debounce）

**所谓防抖，就是指触发事件后在 n 秒后执行函数，如果在 n 秒内又触发了事件，则会重新计算函数执行时间**

举例：

北京买房政策：需要连续5年的社保，如果中间有一年断了社保，则需要从新开始计算

比如，我 2020年开始计算，连续交5年，也就是到2024年可以买房了，包含2020年

但是我 2024年断社保了，整年没交，则需要从2025年开始算第一年往后推5年… 也就是 2029年才能买房…

**开发使用场景- 搜索框防抖**

假设输入就可以发送请求，但是不能每次输入都去发送请求，输入比较快发送请求会比较多

我们设定一个时间，假如300ms， 当输入第一个字符时候，300ms后发送请求，但是在200ms的时候又输入了一个字符，

则需要再等300ms 后发送请求

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;box&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">mouseMove</span>(<span class="params"></span>) &#123;</span><br><span class="line">      box.<span class="property">innerHTML</span> = i++</span><br><span class="line">      <span class="comment">// 如果里面存在大量操作dom 的情况，可能卡顿</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 防抖函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, t</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> timeId</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 如果有定时器就清除</span></span><br><span class="line">        <span class="keyword">if</span> (timeId) <span class="built_in">clearTimeout</span>(timeId)</span><br><span class="line">        <span class="comment">// 开启定时器</span></span><br><span class="line">        timeId = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="title function_">fn</span>()</span><br><span class="line">        &#125;, t)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    box.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="title function_">debounce</span>(mouseMove, <span class="number">200</span>))</span><br></pre></td></tr></table></figure>

#### 12.3 Lodash 库 实现节流和防抖

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;box&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lodash.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line">    <span class="comment">// 鼠标移动函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">mouseMove</span>(<span class="params"></span>) &#123;</span><br><span class="line">      box.<span class="property">innerHTML</span> = i++</span><br><span class="line">      <span class="comment">// 如果里面存在大量操作dom 的情况，可能卡顿</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// lodash 节流</span></span><br><span class="line">    <span class="comment">// box.addEventListener(&#x27;mousemove&#x27;, _.throttle(mouseMove, 500))</span></span><br><span class="line">    <span class="comment">// lodash 防抖</span></span><br><span class="line">    box.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, _.<span class="title function_">debounce</span>(mouseMove, <span class="number">500</span>))</span><br></pre></td></tr></table></figure>

#### 综合案例

需求：页面打开，可以记录上一次的视频播放位置

两个事件:

①：ontimeupdate 事件在视频/音频（audio/video）当前的播放位置发送改变时触发

②：onloadeddata 事件在当前帧的数据加载完成且还没有足够的数据播放视频/音频（audio/video）的下一帧时触发

谁需要节流？

ontimeupdate ， 触发频次太高了，我们可以设定 1秒钟触发一次

步骤：

1.在ontimeupdate事件触发的时候，每隔1秒钟，就记录当前时间到本地存储

2.下次打开页面， onloadeddata 事件触发，就可以从本地存储取出时间，让视频从取出的时间播放，如果没有就默认为0s

3.获得当前时间 video.currentTime

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取元素 对视频进行操作</span></span><br><span class="line">    <span class="keyword">const</span> video = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;video&#x27;</span>)</span><br><span class="line">    <span class="comment">// ontimeupdate 当前的播放位置发生改变是触发</span></span><br><span class="line">    video.<span class="property">ontimeupdate</span> = _.<span class="title function_">throttle</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(video.currentTime)    //获得当前的视频时间</span></span><br><span class="line">      <span class="comment">// 把当前时间存储到本地存储</span></span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;currentTime&#x27;</span>, video.<span class="property">currentTime</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    <span class="comment">// 打开页面触发事件，从本地存储里面取出记录的时间，赋值给 video.currentTime</span></span><br><span class="line">    video.<span class="property">onloadeddata</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      video.<span class="property">currentTime</span> = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;currentTime&#x27;</span>) || <span class="number">0</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://example.com/2022/11/06/%E5%88%9D%E8%AF%86-%E4%BA%8C-JS/" title="初识(二)" target="_blank" rel="external">http://example.com/2022/11/06/初识-二-JS/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/cofess" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/portrait.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/cofess" target="_blank"><span class="text-dark">十七</span><small class="ml-1x">前端开发工程师</small></a></h3>
        <div>个人简介。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2022/11/06/%E5%88%9D%E8%AF%86-%E4%B8%89/" title="初识(三)"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2022/11/06/CSS/" title="初识（一）"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/zhifubao.jpg" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/weixin.jpg" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/cofess" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.behance.net/cofess" target="_blank" title="Behance" data-toggle=tooltip data-placement=top><i class="icon icon-behance"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>